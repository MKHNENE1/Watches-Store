<div class="nav-spacing"></div>
<nav
  class="navbar navbar-expand-lg bg-orange navbar-trans"
  (window:scroll)="onScroll()"
  [ngClass]="navBarFixed ? 'navbar-fixed' : 'navbar-notFixed'"
>
  <div class="container px-4 px-sm-0">
    <a
      class="navbar-brand fw-bolder fs-4 text-center d-flex align-items-center justify-content-center justify-content-lg-start"
      routerLink="/"
    >
      Watch <span class="text-white">&</span> Wear
    </a>

    <!-- Toggler for mobile view -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarResponsive"
      aria-controls="navbarResponsive"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ms-auto gap-3 p-0">
        <li class="nav-item d-flex align-items-center">
          <a class="nav-link fw-bold fs-5" routerLink="products">
            Products
          </a>
        </li>
        <li class="nav-item d-flex align-items-center">
          <a class="nav-link fw-bold fs-5" routerLink="contact">
            Contact
          </a>
        </li>
        <li class="nav-item d-flex align-items-center">
          <a class="nav-link" routerLink="favourite">
            <fa-icon class="fa-2x" [icon]="heart"></fa-icon>
          </a>
        </li>
        <li class="nav-item d-flex align-items-center position-relative">
          <a class="nav-link" routerLink="cart">
            <fa-icon class="me-3 fa-2x" [icon]="cart"></fa-icon>
            <span
              *ngIf="cartItemCount > 0"
              class="cart-badge badge bg-white text-warning position-absolute rounded-circle"
            >
              {{ cartItemCount }}
            </span>
          </a>
        </li>
        <li class="nav-item d-flex align-items-center my-2 gap-2">
          <a class="nav-link" routerLink="user">
            <ng-container *ngIf="(_usermanagement.isLoggedIn | async); else showProfileIcon">
              <img
                [src]="_usermanagement.currentUserImage | async"
                alt="User Image"
                class="user-image"
              />
            </ng-container>
            <ng-template #showProfileIcon>
              <fa-icon class="fa-2x" [icon]="profile"></fa-icon>
            </ng-template>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
