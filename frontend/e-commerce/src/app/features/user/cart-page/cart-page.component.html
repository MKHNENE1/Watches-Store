<div class="container-md container-lg container-xl">
    <div class="d-flex justify-content-center align-items-center p-5">
      <h1 class="text-center my-3 fw-bold">Cart</h1>
    </div>
  
    <!-- Check if cart is empty -->
    @if (cartProducts.length == 0) {
      <div class="d-flex justify-content-center align-items-center w-100 h-75">
        <h2>The Cart is Empty</h2>
      </div>
    } @else {
      <div class="row">
        <!-- Cart items display -->
        <div class="col-md-8 col-lg-8 col-xl-8 px-1 pe-lg-2">
          <!-- Product header -->
          <div class="row d-none d-md-flex border-bottom p-2 bg-light mt-3 rounded fw-bold w-100">
            <div class="col-md-2 col-lg-2 col-xl-2 text-lg-center"></div>
            <div class="col-md-3 col-lg-3 col-xl-3">
              <span class="d-inline-block">PRODUCT</span>
            </div>
            <div class="col-md-2 col-lg-2 col-xl-2 text-center">
              <span>PRICE</span>
            </div>
            <div class="col-md-2 col-lg-2 col-xl-2 text-center">
              <span>QUANTITY</span>
            </div>
            <div class="col-md-2 col-lg-2 col-xl-2 text-center">
              <span>TOTAL</span>
            </div>
            <div class="col-md-1 col-lg-1 col-xl-1 text-center">
              <span>Delete</span>
            </div>
          </div>
  
          <!-- Cart products displayed using app-cart-card component -->
          @for (product of cartProducts; track $index) {
            <app-cart-card
              [productitem]="product"
              (increaseQuantity)="increaseQuantity(product.productId._id)"
              (decreaseQuantity)="decreaseQuantity(product.productId._id)"
              (removeItem)="removeCartItem(product.productId._id)"
            ></app-cart-card>
          }
        </div>
  
        <!-- Checkout Summary -->
        <div class="col-md-4 col-lg-4 col-xl-4 mb-3 py-3">
          <div class="px-2 bg-light border-1 border w-100">
            <div class="d-flex justify-content-between p-3 py-4 border-bottom">
              <span>SubTotal</span>
              <span>{{ totalAmount }}$</span>
            </div>
            <div class="d-flex justify-content-between p-3 py-4 border-bottom">
              <span>Shipping to CA.</span>
            </div>
            <div class="d-flex justify-content-between p-3 py-4 border-bottom">
              <span class="fw-bold">TOTAL</span>
              <span class="text-danger">{{ totalAmount }}$</span>
            </div>
          </div>
          <button type="button" class="btn btn-warning p-3 text-black mt-4 w-100 my-2 mt-3 fw-bold upload" (click)="onCheckout()">Process to checkout</button>
        </div>
      </div>
  
      <!-- Action buttons -->
      <div class="row mt-4 d-md-flex justify-content-md-between w-100 py-2 ms-sm-2 ms-md-0">
        <button class="btn btn-warning h3 p-3 fw-bold d-sm-block d-md-inline col-sm-12 col-md-3 col-lg-3 col-xl-2 upload" routerLink="/" routerLinkActive="active-link">
          <i class="bi bi-arrow-left m-1"></i> Back to shop
        </button>
      </div>
    }
  </div>
  